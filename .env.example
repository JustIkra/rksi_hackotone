# Core app
APP_PORT=9187
ENV=dev
UVICORN_PROXY_HEADERS=1
FORWARDED_ALLOW_IPS=*
APP_ROOT_PATH=

# Security (CHANGE IN PRODUCTION!)
JWT_SECRET=change_me_min_32_chars_in_production
JWT_ALG=HS256
ACCESS_TOKEN_TTL_MIN=30

# Database / Cache / Queue
POSTGRES_DSN=postgresql+asyncpg://app:app@localhost:5432/app
REDIS_URL=redis://localhost:6379/0
RABBITMQ_URL=amqp://guest:guest@localhost:5672//

# File storage
FILE_STORAGE=LOCAL
FILE_STORAGE_BASE=/app/storage
REPORT_MAX_SIZE_MB=15

# Celery
CELERY_TASK_ALWAYS_EAGER=0
CELERY_LOG_LEVEL=INFO

# CORS
CORS_ALLOW_ALL=false
ALLOWED_ORIGINS=http://localhost:5173

# Logging
LOG_LEVEL=INFO
LOG_MASK_SECRETS=1

# AI Provider
AI_PROVIDER=openrouter

# OpenRouter AI
# Get your API keys at: https://openrouter.ai/keys
OPENROUTER_API_KEYS=sk-or-v1-your-key-here
OPENROUTER_APP_URL=http://localhost:9187
OPENROUTER_APP_NAME=Workers Proficiency Assessment System
OPENROUTER_MODEL_TEXT=google/gemini-2.0-flash-001
OPENROUTER_MODEL_VISION=google/gemini-2.0-flash-001
OPENROUTER_QPS_PER_KEY=0.5
OPENROUTER_BURST_MULTIPLIER=2
OPENROUTER_TIMEOUT_S=60

# AI Features
AI_VISION_ENABLED=1

# Metric Generation Feature
# Enable AI-powered metric generation from PDF/DOCX reports
ENABLE_METRIC_GENERATION=false
# Model for metric generation (must support vision)
OPENROUTER_METRIC_MODEL=google/gemini-2.0-flash-001

# Embedding Model for semantic metric matching
# text-embedding-3-small: 1536 dimensions (faster, cheaper)
# text-embedding-3-large: 3072 dimensions (requires custom pgvector build)
EMBEDDING_MODEL=openai/text-embedding-3-small
EMBEDDING_DIMENSIONS=1536
