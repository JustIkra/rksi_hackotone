import{l as R,P as m,q as L,v as f,w as t,d as e,a as s,r as o,x as M,u as l,i as c,f as d,aE as g,aF as q,B as z,a0 as D,aG as F,aH as G,e as H,E as w,o as v}from"./index-bPtqW5CV.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"header-right"},T={class:"user-dropdown"},U={__name:"AppLayout",setup($){const i=H(),x=L(),r=R(),y=m(()=>x.path),h=m(()=>r.user?.full_name||r.user?.email),S=a=>{i.push(a)},A=async a=>{if(a==="profile")i.push("/profile");else if(a==="settings")i.push("/settings");else if(a==="logout")try{await r.logout(),w.success("Выход выполнен"),i.push("/login")}catch{w.error("Ошибка выхода")}};return(a,n)=>{const u=o("el-icon"),_=o("el-menu-item"),C=o("el-sub-menu"),N=o("el-menu"),p=o("el-dropdown-item"),B=o("el-dropdown-menu"),V=o("el-dropdown"),b=o("el-header"),k=o("el-main"),E=o("el-container");return v(),f(E,{class:"app-layout"},{default:t(()=>[e(b,{class:"app-header"},{default:t(()=>[n[8]||(n[8]=s("div",{class:"header-left"},[s("div",{class:"logo"},[s("span",{class:"logo-icon"},"ЦМ"),s("span",{class:"logo-text"},"Цифровая модель УК")])],-1)),s("div",P,[e(N,{mode:"horizontal","default-active":y.value,ellipsis:!1,class:"main-menu",onSelect:S},{default:t(()=>[e(_,{index:"/participants"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(c))]),_:1}),n[0]||(n[0]=s("span",null,"Участники",-1))]),_:1}),l(r).isAdmin?(v(),f(C,{key:0,index:"admin"},{title:t(()=>[e(u,null,{default:t(()=>[e(l(g))]),_:1}),n[1]||(n[1]=s("span",null,"Админ",-1))]),default:t(()=>[e(_,{index:"/admin/users"},{default:t(()=>[...n[2]||(n[2]=[d(" Пользователи ",-1)])]),_:1}),e(_,{index:"/admin/weights"},{default:t(()=>[...n[3]||(n[3]=[d(" Весовые таблицы ",-1)])]),_:1}),e(_,{index:"/admin/competencies"},{default:t(()=>[...n[4]||(n[4]=[d(" Словарь компетенций ",-1)])]),_:1})]),_:1})):M("",!0)]),_:1},8,["default-active"]),e(V,{onCommand:A},{dropdown:t(()=>[e(B,null,{default:t(()=>[e(p,{command:"profile"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(c))]),_:1}),n[5]||(n[5]=d(" Профиль ",-1))]),_:1}),e(p,{command:"settings"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(g))]),_:1}),n[6]||(n[6]=d(" Настройки ",-1))]),_:1}),e(p,{divided:"",command:"logout"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(F))]),_:1}),n[7]||(n[7]=d(" Выход ",-1))]),_:1})]),_:1})]),default:t(()=>[s("span",T,[e(u,null,{default:t(()=>[e(l(q))]),_:1}),s("span",null,z(h.value),1),e(u,{class:"el-icon--right"},{default:t(()=>[e(l(D))]),_:1})])]),_:1})])]),_:1}),e(k,{class:"app-main"},{default:t(()=>[G(a.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},K=I(U,[["__scopeId","data-v-3ea14cf2"]]);export{K as A};
