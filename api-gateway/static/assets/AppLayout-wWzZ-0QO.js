import{l as R,Q as m,q as D,v as f,w as t,f as e,a as o,r as s,x as I,u as l,i as c,e as a,aD as g,aE as L,B as M,Y as q,aF as z,aG as F,d as G,E as w,o as v}from"./index-Cq7tpZKo.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"header-container"},U={class:"header-right"},Y={class:"user-dropdown"},$={__name:"AppLayout",setup(j){const r=G(),x=D(),_=R(),y=m(()=>x.path),A=m(()=>_.user?.full_name||_.user?.email),S=d=>{r.push(d)},C=async d=>{if(d==="profile")r.push("/profile");else if(d==="settings")r.push("/settings");else if(d==="logout")try{await _.logout(),w.success("Выход выполнен"),r.push("/login")}catch{w.error("Ошибка выхода")}};return(d,n)=>{const u=s("el-icon"),i=s("el-menu-item"),N=s("el-sub-menu"),h=s("el-menu"),p=s("el-dropdown-item"),B=s("el-dropdown-menu"),V=s("el-dropdown"),b=s("el-header"),k=s("el-main"),E=s("el-container");return v(),f(E,{class:"app-layout"},{default:t(()=>[e(b,{class:"app-header"},{default:t(()=>[o("div",T,[n[10]||(n[10]=o("div",{class:"header-left"},[o("div",{class:"logo"},[o("span",{class:"logo-icon"},"ЦМ"),o("span",{class:"logo-text"},"Цифровая модель УК")])],-1)),o("div",U,[e(h,{mode:"horizontal","default-active":y.value,ellipsis:!1,class:"main-menu",onSelect:S},{default:t(()=>[e(i,{index:"/participants"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(c))]),_:1}),n[0]||(n[0]=o("span",null,"Участники",-1))]),_:1}),l(_).isAdmin?(v(),f(N,{key:0,index:"admin"},{title:t(()=>[e(u,null,{default:t(()=>[e(l(g))]),_:1}),n[1]||(n[1]=o("span",null,"Админ",-1))]),default:t(()=>[e(i,{index:"/admin/users"},{default:t(()=>[...n[2]||(n[2]=[a(" Пользователи ",-1)])]),_:1}),e(i,{index:"/admin/weights"},{default:t(()=>[...n[3]||(n[3]=[a(" Весовые таблицы ",-1)])]),_:1}),e(i,{index:"/admin/competencies"},{default:t(()=>[...n[4]||(n[4]=[a(" Словарь компетенций ",-1)])]),_:1}),e(i,{index:"/admin/metric-generate"},{default:t(()=>[...n[5]||(n[5]=[a(" AI Генерация ",-1)])]),_:1}),e(i,{index:"/admin/audit-log"},{default:t(()=>[...n[6]||(n[6]=[a(" Журнал аудита ",-1)])]),_:1})]),_:1})):I("",!0)]),_:1},8,["default-active"]),e(V,{onCommand:C},{dropdown:t(()=>[e(B,null,{default:t(()=>[e(p,{command:"profile"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(c))]),_:1}),n[7]||(n[7]=a(" Профиль ",-1))]),_:1}),e(p,{command:"settings"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(g))]),_:1}),n[8]||(n[8]=a(" Настройки ",-1))]),_:1}),e(p,{divided:"",command:"logout"},{default:t(()=>[e(u,null,{default:t(()=>[e(l(z))]),_:1}),n[9]||(n[9]=a(" Выход ",-1))]),_:1})]),_:1})]),default:t(()=>[o("span",Y,[e(u,null,{default:t(()=>[e(l(L))]),_:1}),o("span",null,M(A.value),1),e(u,{class:"el-icon--right"},{default:t(()=>[e(l(q))]),_:1})])]),_:1})])])]),_:1}),e(k,{class:"app-main"},{default:t(()=>[F(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},K=Q($,[["__scopeId","data-v-295d849c"]]);export{K as A};
