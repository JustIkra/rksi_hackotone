import{O as r}from"./index-BSXkwQZw.js";const i={async listMetricDefs(e=!1){return(await r.get("/metric-defs",{params:{active_only:e}})).data},async getMetricDef(e){return(await r.get(`/metric-defs/${e}`)).data},async createMetricDef(e){return(await r.post("/metric-defs",e)).data},async updateMetricDef(e,t){return(await r.put(`/metric-defs/${e}`,t)).data},async deleteMetricDef(e){return(await r.delete(`/metric-defs/${e}`)).data},async listExtractedMetrics(e){return(await r.get(`/reports/${e}/metrics`)).data},async createOrUpdateExtractedMetric(e,t){return(await r.post(`/reports/${e}/metrics`,t)).data},async bulkCreateExtractedMetrics(e,t){return(await r.post(`/reports/${e}/metrics/bulk`,{metrics:t})).data},async updateExtractedMetric(e,t,s,a=null){return(await r.put(`/reports/${e}/metrics/${t}`,{value:s,notes:a})).data},async deleteExtractedMetric(e){return(await r.delete(`/extracted-metrics/${e}`)).data},async getMetricTemplate(e){return(await r.get(`/reports/${e}/metrics/template`)).data},async clearExtractedMetric(e,t){return(await r.delete(`/reports/${e}/metrics/${t}`)).data},async getUsage(e){return(await r.get(`/metric-defs/${e}/usage`)).data},async exportMetrics(e="xlsx"){return(await r.get("/admin/metrics/export",{params:{format:e},responseType:"blob"})).data},async importPreview(e){const t=new FormData;return t.append("file",e),(await r.post("/admin/metrics/import/preview",t,{headers:{"Content-Type":"multipart/form-data"}})).data},async importMetrics(e){const t=new FormData;return t.append("file",e),(await r.post("/admin/metrics/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data},async bulkMove(e,t){return(await r.put("/metric-defs/bulk-move",{metric_ids:e,target_category_id:t})).data},async bulkDelete(e){return(await r.delete("/metric-defs/bulk-delete",{data:{metric_ids:e}})).data}};function n(e,t,s=console){const a=t||e?.code;return e?.name_ru&&e.name_ru.trim()?e.name_ru.trim():a?(s?.warn?.(`[metrics] Отсутствует русское название для метрики "${a}". Отображаем код.`),a):(s?.warn?.("[metrics] Не удалось определить название метрики."),"—")}function p(e,t=console){const s=n(e,e?.code,t),a=e?.unit?e.unit.trim():"";return a?`${s} (${a})`:s}export{p as f,n as g,i as m};
